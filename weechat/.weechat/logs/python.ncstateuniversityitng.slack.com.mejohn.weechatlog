2018-03-16 19:35:17		getting channel history...
2018-02-28 12:05:33	jesse	oh its working now lol 
2018-02-28 12:05:42	mejohn	magic 
2018-03-01 14:14:02	jesse	@jesse uploaded a file: https://ncstateuniversityitng.slack.com/files/U8QQFV2GG/F9J0ZBAUW/notes8_todo.md (notes8_todo.md) and commented: I normally make files explaining what needs to be done to Sagar, Janne, and Arun... I figured you may want to take a look at this as well in case you, John, or Michael want to help speed things along. 
2018-03-01 14:15:11	mejohn	thanks! 
2018-03-02 08:58:06	jesse	Hey Meaghan,  
2018-03-02 08:58:06		I have the csv of the specialists in /home/jlsimps4/ForMeaghan/specialists.csv along with some commands in specialists.sql to import the data. You are welcome to change the schema that I set. I tried to make some of the varchars smaller so that they may be more memory efficient. Also, its a pretty big file. I havent run the filter that deletes the doctors without admission privileges, because I want that to be a last step.
2018-03-02 08:58:06		If you want, I can add it into the database myself, but I think that would go against what John had said a few meetings ago about having 1 person being in charge of the db :stuck_out_tongue: 
2018-03-02 08:59:24	mejohn	thanks! I'll look at it in a few hours 
2018-03-02 08:59:58	mejohn	you can always put it into postgres, just try to keep rd_dev as a 'staging' server that we move clean data into eventually 
2018-03-02 09:02:13	jesse	Okay. I think I'll leave it as is so that its easier for you to change the schema before the data is imported. 
2018-03-02 09:02:24	mejohn	alright :slightly_smiling_face: 
2018-03-02 11:06:33	jesse	Hey Meaghan, this might seem like a weird question.. but what is John's role in the lab? I have a fair grasp of what you Michael, Mike, and Changsung  do with respect to at least the rare disease project... but John's always been a mystery to me. Does he do the same kind of stuff you and Michael do? 
2018-03-02 11:25:06	mejohn	Have you seen the office? 
2018-03-02 11:25:39	jesse	Which office? 
2018-03-02 11:25:49	mejohn	The TV show, haha 
2018-03-02 11:26:24	jesse	ah. nope.. I'm jealous of Dr. Kowolenko's office though lol 
2018-03-02 11:29:27	mejohn	Ah ok. Quick history lesson then: itng was started by John and John Streck about 20 years ago. We mostly did webdev and other short contracts by the time I joined in 13. Mike found us (no clue how) in 15 and started to integrate the analytics stuff, but functioned as a separate branch of itng. In 16, Streck retired and Mike took over as director 
2018-03-02 11:29:51	mejohn	John's run the day to day and 'normal' contracts for most of that time 
2018-03-02 11:30:28	mejohn	So in 16 they started to merge the two branches of itng, so Mike is technically above John 
2018-03-02 11:31:00	mejohn	For rare diseases specifically, he's kinda the project manager, keeps Mike and us on track 
2018-03-02 11:31:39	jesse	I'm imagining Mike just walking in and throwing Streck out and claiming the lab as his 
2018-03-02 11:31:55	mejohn	There's not clear defined relationships between them yet 
2018-03-02 11:32:20	mejohn	Haha Streck left voluntarily, and Mike had to be persuaded to take over actually 
2018-03-02 11:32:43	jesse	lol who did the pursuading? 
2018-03-02 11:32:53	mejohn	Probably Streck? 
2018-03-02 11:33:09	mejohn	Maybe higher up in CSC 
2018-03-02 11:33:51	mejohn	I think it has to be faculty, which is why John didn't take over 
2018-03-02 11:35:52	jesse	gotcha. anyway, that's pretty much what I had expected about John, but I wasn't sure. I just realized I had hardly ever conversed or messaged him on slack... and I'm sure Sagar/Arun/Janne are pretty uncomfortable speaking in front of him/ the rest of you. Thanks 
2018-03-02 11:36:16	mejohn	Oh please tell them not to be! 
2018-03-02 11:36:26	mejohn	John's whole thing is being really casual 
2018-03-02 11:37:33	mejohn	He likes hearing everyone's opinions 
2018-03-02 11:37:41	jesse	Yeah. he seems that way to me.  I just say that cuz they seem quiet in meetings. 
2018-03-02 11:37:58	mejohn	Oh gotcha 
2018-03-02 11:38:17	mejohn	That may be more that it's harder to speak up in a bigger group, I hope 
2018-03-02 11:38:30	mejohn	Mike keeps telling me to talk more too 
2018-03-02 11:38:56	jesse	perhaps. It's something we can all improve on. 
2018-03-02 11:39:09	mejohn	Very true 
2018-03-04 18:06:23	jesse	meaghan have you ever had issues where importing a CSV into a dataframe turns literal strings into nan values? 
2018-03-04 18:06:56	mejohn	It makes sense, they aren't numbers :joy: 
2018-03-04 18:07:10	mejohn	But no, I've never used dataframes to import 
2018-03-04 18:08:19	jesse	Casting the literal strings to strings returns nan....  if I don't cast it to a string, it says I cannot implicitly cast 'float' to string. 
2018-03-04 18:08:44	mejohn	Seems to be an issue with the default casting being a float... 
2018-03-04 18:09:08	jesse	:disappointed: 
2018-03-04 18:09:45	mejohn	You could email Dr. Kowolenko, he uses dataframes 
2018-03-04 18:09:51	mejohn	I use use csvsql 
2018-03-04 18:10:39	jesse	Alright. I will. Thanks! 
2018-03-04 18:11:05	mejohn	Sorry I can't help more! 
2018-03-04 18:11:19	jesse	Thats okay. 
2018-03-04 18:35:28	jesse	wow csvsql is pretty sweet... I tried writing a program that did the same thing :stuck_out_tongue: 
2018-03-04 18:35:56	jesse	im not sure it would solve my problem though. 
2018-03-04 18:36:05	mejohn	haha always try to see if something exists that serves the same purpose first! 
2018-03-04 18:36:26	mejohn	alright, so is your table defined that field as a float? 
2018-03-04 18:36:32	jesse	no 
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:48:04		getting channel history...
2018-03-02 09:02:24	mejohn	alright :slightly_smiling_face: 
2018-03-02 11:06:33	jesse	Hey Meaghan, this might seem like a weird question.. but what is John's role in the lab? I have a fair grasp of what you Michael, Mike, and Changsung  do with respect to at least the rare disease project... but John's always been a mystery to me. Does he do the same kind of stuff you and Michael do? 
2018-03-02 11:25:06	mejohn	Have you seen the office? 
2018-03-02 11:25:39	jesse	Which office? 
2018-03-02 11:25:49	mejohn	The TV show, haha 
2018-03-02 11:26:24	jesse	ah. nope.. I'm jealous of Dr. Kowolenko's office though lol 
2018-03-02 11:29:27	mejohn	Ah ok. Quick history lesson then: itng was started by John and John Streck about 20 years ago. We mostly did webdev and other short contracts by the time I joined in 13. Mike found us (no clue how) in 15 and started to integrate the analytics stuff, but functioned as a separate branch of itng. In 16, Streck retired and Mike took over as director 
2018-03-02 11:29:51	mejohn	John's run the day to day and 'normal' contracts for most of that time 
2018-03-02 11:30:28	mejohn	So in 16 they started to merge the two branches of itng, so Mike is technically above John 
2018-03-02 11:31:00	mejohn	For rare diseases specifically, he's kinda the project manager, keeps Mike and us on track 
2018-03-02 11:31:39	jesse	I'm imagining Mike just walking in and throwing Streck out and claiming the lab as his 
2018-03-02 11:31:55	mejohn	There's not clear defined relationships between them yet 
2018-03-02 11:32:20	mejohn	Haha Streck left voluntarily, and Mike had to be persuaded to take over actually 
2018-03-02 11:32:43	jesse	lol who did the pursuading? 
2018-03-02 11:32:53	mejohn	Probably Streck? 
2018-03-02 11:33:09	mejohn	Maybe higher up in CSC 
2018-03-02 11:33:51	mejohn	I think it has to be faculty, which is why John didn't take over 
2018-03-02 11:35:52	jesse	gotcha. anyway, that's pretty much what I had expected about John, but I wasn't sure. I just realized I had hardly ever conversed or messaged him on slack... and I'm sure Sagar/Arun/Janne are pretty uncomfortable speaking in front of him/ the rest of you. Thanks 
2018-03-02 11:36:16	mejohn	Oh please tell them not to be! 
2018-03-02 11:36:26	mejohn	John's whole thing is being really casual 
2018-03-02 11:37:33	mejohn	He likes hearing everyone's opinions 
2018-03-02 11:37:41	jesse	Yeah. he seems that way to me.  I just say that cuz they seem quiet in meetings. 
2018-03-02 11:37:58	mejohn	Oh gotcha 
2018-03-02 11:38:17	mejohn	That may be more that it's harder to speak up in a bigger group, I hope 
2018-03-02 11:38:30	mejohn	Mike keeps telling me to talk more too 
2018-03-02 11:38:56	jesse	perhaps. It's something we can all improve on. 
2018-03-02 11:39:09	mejohn	Very true 
2018-03-04 18:06:23	jesse	meaghan have you ever had issues where importing a CSV into a dataframe turns literal strings into nan values? 
2018-03-04 18:06:56	mejohn	It makes sense, they aren't numbers :joy: 
2018-03-04 18:07:10	mejohn	But no, I've never used dataframes to import 
2018-03-04 18:08:19	jesse	Casting the literal strings to strings returns nan....  if I don't cast it to a string, it says I cannot implicitly cast 'float' to string. 
2018-03-04 18:08:44	mejohn	Seems to be an issue with the default casting being a float... 
2018-03-04 18:09:08	jesse	:disappointed: 
2018-03-04 18:09:45	mejohn	You could email Dr. Kowolenko, he uses dataframes 
2018-03-04 18:09:51	mejohn	I use use csvsql 
2018-03-04 18:10:39	jesse	Alright. I will. Thanks! 
2018-03-04 18:11:05	mejohn	Sorry I can't help more! 
2018-03-04 18:11:19	jesse	Thats okay. 
2018-03-04 18:35:28	jesse	wow csvsql is pretty sweet... I tried writing a program that did the same thing :stuck_out_tongue: 
2018-03-04 18:35:56	jesse	im not sure it would solve my problem though. 
2018-03-04 18:36:05	mejohn	haha always try to see if something exists that serves the same purpose first! 
2018-03-04 18:36:26	mejohn	alright, so is your table defined that field as a float? 
2018-03-04 18:36:32	jesse	no 
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-20 10:04:56		getting channel history...
2018-03-02 11:31:39	jesse	I'm imagining Mike just walking in and throwing Streck out and claiming the lab as his 
2018-03-02 11:31:55	mejohn	There's not clear defined relationships between them yet 
2018-03-02 11:32:20	mejohn	Haha Streck left voluntarily, and Mike had to be persuaded to take over actually 
2018-03-02 11:32:43	jesse	lol who did the pursuading? 
2018-03-02 11:32:53	mejohn	Probably Streck? 
2018-03-02 11:33:09	mejohn	Maybe higher up in CSC 
2018-03-02 11:33:51	mejohn	I think it has to be faculty, which is why John didn't take over 
2018-03-02 11:35:52	jesse	gotcha. anyway, that's pretty much what I had expected about John, but I wasn't sure. I just realized I had hardly ever conversed or messaged him on slack... and I'm sure Sagar/Arun/Janne are pretty uncomfortable speaking in front of him/ the rest of you. Thanks 
2018-03-02 11:36:16	mejohn	Oh please tell them not to be! 
2018-03-02 11:36:26	mejohn	John's whole thing is being really casual 
2018-03-02 11:37:33	mejohn	He likes hearing everyone's opinions 
2018-03-02 11:37:41	jesse	Yeah. he seems that way to me.  I just say that cuz they seem quiet in meetings. 
2018-03-02 11:37:58	mejohn	Oh gotcha 
2018-03-02 11:38:17	mejohn	That may be more that it's harder to speak up in a bigger group, I hope 
2018-03-02 11:38:30	mejohn	Mike keeps telling me to talk more too 
2018-03-02 11:38:56	jesse	perhaps. It's something we can all improve on. 
2018-03-02 11:39:09	mejohn	Very true 
2018-03-04 18:06:23	jesse	meaghan have you ever had issues where importing a CSV into a dataframe turns literal strings into nan values? 
2018-03-04 18:06:56	mejohn	It makes sense, they aren't numbers :joy: 
2018-03-04 18:07:10	mejohn	But no, I've never used dataframes to import 
2018-03-04 18:08:19	jesse	Casting the literal strings to strings returns nan....  if I don't cast it to a string, it says I cannot implicitly cast 'float' to string. 
2018-03-04 18:08:44	mejohn	Seems to be an issue with the default casting being a float... 
2018-03-04 18:09:08	jesse	:disappointed: 
2018-03-04 18:09:45	mejohn	You could email Dr. Kowolenko, he uses dataframes 
2018-03-04 18:09:51	mejohn	I use use csvsql 
2018-03-04 18:10:39	jesse	Alright. I will. Thanks! 
2018-03-04 18:11:05	mejohn	Sorry I can't help more! 
2018-03-04 18:11:19	jesse	Thats okay. 
2018-03-04 18:35:28	jesse	wow csvsql is pretty sweet... I tried writing a program that did the same thing :stuck_out_tongue: 
2018-03-04 18:35:56	jesse	im not sure it would solve my problem though. 
2018-03-04 18:36:05	mejohn	haha always try to see if something exists that serves the same purpose first! 
2018-03-04 18:36:26	mejohn	alright, so is your table defined that field as a float? 
2018-03-04 18:36:32	jesse	no 
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 07:56:25		getting channel history...
2018-03-02 11:35:52	jesse	gotcha. anyway, that's pretty much what I had expected about John, but I wasn't sure. I just realized I had hardly ever conversed or messaged him on slack... and I'm sure Sagar/Arun/Janne are pretty uncomfortable speaking in front of him/ the rest of you. Thanks 
2018-03-02 11:36:16	mejohn	Oh please tell them not to be! 
2018-03-02 11:36:26	mejohn	John's whole thing is being really casual 
2018-03-02 11:37:33	mejohn	He likes hearing everyone's opinions 
2018-03-02 11:37:41	jesse	Yeah. he seems that way to me.  I just say that cuz they seem quiet in meetings. 
2018-03-02 11:37:58	mejohn	Oh gotcha 
2018-03-02 11:38:17	mejohn	That may be more that it's harder to speak up in a bigger group, I hope 
2018-03-02 11:38:30	mejohn	Mike keeps telling me to talk more too 
2018-03-02 11:38:56	jesse	perhaps. It's something we can all improve on. 
2018-03-02 11:39:09	mejohn	Very true 
2018-03-04 18:06:23	jesse	meaghan have you ever had issues where importing a CSV into a dataframe turns literal strings into nan values? 
2018-03-04 18:06:56	mejohn	It makes sense, they aren't numbers :joy: 
2018-03-04 18:07:10	mejohn	But no, I've never used dataframes to import 
2018-03-04 18:08:19	jesse	Casting the literal strings to strings returns nan....  if I don't cast it to a string, it says I cannot implicitly cast 'float' to string. 
2018-03-04 18:08:44	mejohn	Seems to be an issue with the default casting being a float... 
2018-03-04 18:09:08	jesse	:disappointed: 
2018-03-04 18:09:45	mejohn	You could email Dr. Kowolenko, he uses dataframes 
2018-03-04 18:09:51	mejohn	I use use csvsql 
2018-03-04 18:10:39	jesse	Alright. I will. Thanks! 
2018-03-04 18:11:05	mejohn	Sorry I can't help more! 
2018-03-04 18:11:19	jesse	Thats okay. 
2018-03-04 18:35:28	jesse	wow csvsql is pretty sweet... I tried writing a program that did the same thing :stuck_out_tongue: 
2018-03-04 18:35:56	jesse	im not sure it would solve my problem though. 
2018-03-04 18:36:05	mejohn	haha always try to see if something exists that serves the same purpose first! 
2018-03-04 18:36:26	mejohn	alright, so is your table defined that field as a float? 
2018-03-04 18:36:32	jesse	no 
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-21 14:20:11		getting channel history...
2018-03-04 18:08:44	mejohn	Seems to be an issue with the default casting being a float... 
2018-03-04 18:09:08	jesse	:disappointed: 
2018-03-04 18:09:45	mejohn	You could email Dr. Kowolenko, he uses dataframes 
2018-03-04 18:09:51	mejohn	I use use csvsql 
2018-03-04 18:10:39	jesse	Alright. I will. Thanks! 
2018-03-04 18:11:05	mejohn	Sorry I can't help more! 
2018-03-04 18:11:19	jesse	Thats okay. 
2018-03-04 18:35:28	jesse	wow csvsql is pretty sweet... I tried writing a program that did the same thing :stuck_out_tongue: 
2018-03-04 18:35:56	jesse	im not sure it would solve my problem though. 
2018-03-04 18:36:05	mejohn	haha always try to see if something exists that serves the same purpose first! 
2018-03-04 18:36:26	mejohn	alright, so is your table defined that field as a float? 
2018-03-04 18:36:32	jesse	no 
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-25 17:14:14		getting channel history...
2018-03-04 18:08:44	mejohn	Seems to be an issue with the default casting being a float... 
2018-03-04 18:09:08	jesse	:disappointed: 
2018-03-04 18:09:45	mejohn	You could email Dr. Kowolenko, he uses dataframes 
2018-03-04 18:09:51	mejohn	I use use csvsql 
2018-03-04 18:10:39	jesse	Alright. I will. Thanks! 
2018-03-04 18:11:05	mejohn	Sorry I can't help more! 
2018-03-04 18:11:19	jesse	Thats okay. 
2018-03-04 18:35:28	jesse	wow csvsql is pretty sweet... I tried writing a program that did the same thing :stuck_out_tongue: 
2018-03-04 18:35:56	jesse	im not sure it would solve my problem though. 
2018-03-04 18:36:05	mejohn	haha always try to see if something exists that serves the same purpose first! 
2018-03-04 18:36:26	mejohn	alright, so is your table defined that field as a float? 
2018-03-04 18:36:32	jesse	no 
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:19:27		getting channel history...
2018-03-04 18:08:44	mejohn	Seems to be an issue with the default casting being a float... 
2018-03-04 18:09:08	jesse	:disappointed: 
2018-03-04 18:09:45	mejohn	You could email Dr. Kowolenko, he uses dataframes 
2018-03-04 18:09:51	mejohn	I use use csvsql 
2018-03-04 18:10:39	jesse	Alright. I will. Thanks! 
2018-03-04 18:11:05	mejohn	Sorry I can't help more! 
2018-03-04 18:11:19	jesse	Thats okay. 
2018-03-04 18:35:28	jesse	wow csvsql is pretty sweet... I tried writing a program that did the same thing :stuck_out_tongue: 
2018-03-04 18:35:56	jesse	im not sure it would solve my problem though. 
2018-03-04 18:36:05	mejohn	haha always try to see if something exists that serves the same purpose first! 
2018-03-04 18:36:26	mejohn	alright, so is your table defined that field as a float? 
2018-03-04 18:36:32	jesse	no 
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-08 12:58:13		getting channel history...
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-14 17:17:28		getting channel history...
2018-03-04 18:36:47	mejohn	create your table with the fields first, then try the dataframes? 
2018-03-04 18:36:55	mejohn	then you know the types are right 
2018-03-04 18:37:01	jesse	this could work. 
2018-03-04 19:13:43	jesse	I think my script ended up being better than csvsql for what I'm dealing with haha.  Wasn't wasted time :stuck_out_tongue: 
2018-03-04 19:14:27	mejohn	Haha that's good 
2018-03-05 07:10:21	mejohn	Your VM ran out of space 
2018-03-05 07:11:39	jesse	lol yeah i saw. i downloaded one of the files i needed last night. i should be able to clear up just about all of it should things go well for me today 
2018-03-05 07:12:15	jesse	there's 1 more i gotta download and then i can mostly nuke the rest. :P 
2018-03-05 07:14:30	jesse	i promise I'm not putting my cat pics on the VM haha 
2018-03-05 07:14:57	mejohn	Ha no worries, just wanted to let you know in case you were in the middle of running something 
2018-03-05 07:17:27	jesse	nah  the terminal told me i ran out of space on a sql statement.
2018-03-05 07:17:27		once I can get the duplicates out (which is where ive been getting bugs), that file size should go from 8.5 gigs to something like 1 gig or less. 
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-14 21:18:02	jesse	Hey meaghan, is rarediseases.oscar down? 
2018-04-14 21:18:25	mejohn	It should n't be 
2018-04-14 21:19:08	jesse	It's on an infinite load on my computer :P 
2018-04-14 21:24:30	mejohn	I'll look at it when I get back to my computer, thanks 
2018-04-14 21:26:22	jesse	Ok. I wouldn't judge you if you just went to bed lol. you always seem to be working on stuff... or online at least lol. 
2018-04-14 21:26:39	mejohn	I'm at a conference right now or I'd fix it 
2018-04-14 21:27:05	jesse	I gotcha. 
2018-04-14 21:32:59	mejohn	Back up. Something's wrong with postgres, remind me to look into it later? 
2018-04-14 21:33:28	jesse	yeah I can do that. I'm kinda curious whats wrong with postgres. 
2018-04-14 21:33:51	mejohn	Thanks! It's not the first time it's gotten stuck 
2018-04-14 21:34:21	jesse	Could've fooled me. It's been working well almost every time I've tried to go on it. 
2018-04-28 10:28:13		getting channel history...
2018-03-05 07:20:32	jesse	after that, I'll be able to look at Aruns script for comparing med school names... and should that go magically smooth, than all ill need to do is get it into the DB and make it appear on the django page. 
2018-03-05 10:07:10	jesse	Hey meaghan, if you have some time, Id like some help getting around this problem that Ive been having.
2018-03-05 10:07:10		the data in postgres has the appropriate values and data types, however when imported to the dataframe, i got the same bug where some of the data is none or nan.
2018-03-05 10:07:10		I messaged dr. kowolenko, but he hasn't responded. i also need to figure out how to remove the duplicates  without loading the whole file into memory. 
2018-03-05 10:08:33	mejohn	Dr. Kowolenko's setting up for an nsa class at 1, and I'm helping. i can look into your issue probably around 2. If you can't wait that long, maybe Michael can help 
2018-03-05 10:10:27	jesse	ahh I gotcha.  I'll ask Michael. it's not that i can't wait, but ive got some friends I'd like to hang out with. :P 
2018-03-05 20:46:01	jesse	I removed the cat pics.... uhhh I mean some of the pubmed data from the VM so the memory isn't full anymore :slightly_smiling_face: 
2018-03-05 20:46:30	mejohn	Nice! I'll stop getting emails every few hours :P 
2018-03-05 20:46:48	mejohn	Did you figure out the dataframes issue? 
2018-03-05 20:49:38	jesse	oh im sorry you were getting emails about that. and yeah I figured it out. turns out the csv package in python is really good. I now have the pubmed data without any duplicates. Now I just have to figure out the medschool comparisons (which I think Arun's been working on that) and then it's just django stuff. 
2018-03-05 20:50:14	mejohn	Hahaha no worries, technically I get an email every hour saying everything's up. Pretty easy to filter them out 
2018-03-05 20:50:40	jesse	lol. Thats how I feel with the emails I get from ncsu 
2018-03-05 20:50:52	mejohn	Great! Feel free to pass off the Django stuff to us, if you want to have more spring break time 
2018-03-05 20:53:14	jesse	xD sure thing. I'll probably do more on documenting my scripts tonight and work out the comparisons tomorrow. Hopefully that won't be much of an issue. 
2018-03-05 20:53:53	mejohn	Fingers crossed. Good job on figuring out the whole pubmed thing! 
2018-03-05 20:57:43	jesse	Thanks.. I don't think the data is perfect though. There's still some stuff to work out with the mesh terms and making the system generate the data in a streamlined way... and that will probably run into a lot of the memory problems I had. 
2018-03-05 20:58:53	mejohn	Well, we've got plenty of time to refine the process after we get a prototype, so don't dwell too much on the flaws for now 
2018-03-05 20:59:31	jesse	alright. I'll just find a place to document them. 
2018-03-05 20:59:40	mejohn	:+1: 
2018-03-06 11:45:39	mejohn	so specialists now have hospital_affiliation_ccn and lbn, are there any plans to update Hospitals to include their ccn or lbn? 
2018-03-06 12:02:32	jesse	So if we get the hospitals data from http://medicare.gov (medicare.gov), then I'm pretty sure that info would be included as well. I just haven't gotten around to that. 
2018-03-06 12:03:55	mejohn	no worries, just wondering if it was in future plans. thanks! 
2018-03-06 12:04:09	mejohn	definitely not a priority 
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-14 21:18:02	jesse	Hey meaghan, is rarediseases.oscar down? 
2018-04-14 21:18:25	mejohn	It should n't be 
2018-04-14 21:19:08	jesse	It's on an infinite load on my computer :P 
2018-04-14 21:24:30	mejohn	I'll look at it when I get back to my computer, thanks 
2018-04-14 21:26:22	jesse	Ok. I wouldn't judge you if you just went to bed lol. you always seem to be working on stuff... or online at least lol. 
2018-04-14 21:26:39	mejohn	I'm at a conference right now or I'd fix it 
2018-04-14 21:27:05	jesse	I gotcha. 
2018-04-14 21:32:59	mejohn	Back up. Something's wrong with postgres, remind me to look into it later? 
2018-04-14 21:33:28	jesse	yeah I can do that. I'm kinda curious whats wrong with postgres. 
2018-04-14 21:33:51	mejohn	Thanks! It's not the first time it's gotten stuck 
2018-04-14 21:34:21	jesse	Could've fooled me. It's been working well almost every time I've tried to go on it. 
2018-04-28 14:10:38	jesse	is it weird to recommend scorpions for people with hearing problems? xD 
2018-04-28 14:11:34	jesse	the data I was using is chinese so scorpions came up as an herbal remedy. 
2018-04-30 19:46:44		getting channel history...
2018-03-08 07:23:48	jesse	i sent Michael this as well, but I'll be available if you guys wanted me to Google Hangouts into your meeting today. just let me know what y'all want when it gets closer to that time. 
2018-03-08 07:28:57	jesse	Michael responded telling me there wouldn't be a meeting. 
2018-03-08 07:30:11	mejohn	Michael's correct 
2018-03-08 07:30:25	mejohn	Arun sent me a note saying he forwarded the code to compare med schools to you 
2018-03-08 07:32:12	jesse	sorta... I ended up having to rewrite it all.. 
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-14 21:18:02	jesse	Hey meaghan, is rarediseases.oscar down? 
2018-04-14 21:18:25	mejohn	It should n't be 
2018-04-14 21:19:08	jesse	It's on an infinite load on my computer :P 
2018-04-14 21:24:30	mejohn	I'll look at it when I get back to my computer, thanks 
2018-04-14 21:26:22	jesse	Ok. I wouldn't judge you if you just went to bed lol. you always seem to be working on stuff... or online at least lol. 
2018-04-14 21:26:39	mejohn	I'm at a conference right now or I'd fix it 
2018-04-14 21:27:05	jesse	I gotcha. 
2018-04-14 21:32:59	mejohn	Back up. Something's wrong with postgres, remind me to look into it later? 
2018-04-14 21:33:28	jesse	yeah I can do that. I'm kinda curious whats wrong with postgres. 
2018-04-14 21:33:51	mejohn	Thanks! It's not the first time it's gotten stuck 
2018-04-14 21:34:21	jesse	Could've fooled me. It's been working well almost every time I've tried to go on it. 
2018-04-28 14:10:38	jesse	is it weird to recommend scorpions for people with hearing problems? xD 
2018-04-28 14:11:34	jesse	the data I was using is chinese so scorpions came up as an herbal remedy. 
2018-04-28 15:51:38	mejohn	Weird... 
2018-04-28 15:52:02	mejohn	Technically, we aren't recommending any of this stuff. Just informing 
2018-04-28 15:52:09	mejohn	But still... 
2018-04-28 15:53:57	jesse	yeah. thats the only weird one I found. But I was thinking there was some scorpion plant or that there was  an error in the translation, but there isnt. Ive looked it up and they really do eat scorpions. 
2018-04-28 15:55:26	mejohn	It's eating them? I figured it'd be like an extract of the venom. Interesting 
2018-04-28 15:55:48	jesse	I guess I just made the assumption about eating them. Ill check. 
2018-04-28 15:56:14	mejohn	There's a lot of cultures that do eat them, I think 
2018-04-28 15:56:55	jesse	china is definitely one that eats them from a quick google. 
2018-04-28 15:57:33	mejohn	I'd say keep it in, we're just gonna need some serious disclaimers 
2018-04-28 15:57:52	jesse	xD make sure it's dead first. 
2018-04-28 15:58:12	mejohn	Haha that too 
2018-04-28 16:01:30	jesse	omg they eat seahorses too. 
2018-04-28 16:01:42	mejohn	I did know that one! 
2018-04-28 16:01:55	jesse	have you tried one? 
2018-04-28 16:04:00	mejohn	Haha no, it was in a the show 
2018-04-28 16:06:10	jesse	I wonder if I can find those foods here somewhere. I kinda wanna try seahorses and owls. maybe even a snake. 
2018-04-28 16:06:54	mejohn	Some of it you can find at Grand Asia market or BugFest in September! 
2018-04-28 16:07:01	mejohn	Probably not owl though 
2018-04-28 16:07:53	jesse	good to know! thanks 
2018-04-30 19:48:01	jesse	Do you think I should put the herbal remedy stuff in the 'Medications' tile? 
2018-04-30 19:48:20	mejohn	Yeah, probably 
2018-04-30 19:48:55	jesse	Okay, I'll whip something up 
2018-04-30 19:48:59	jesse	:P 
2018-04-30 19:50:17	mejohn	Cool, thanks 
2018-05-01 11:38:20		getting channel history...
2018-03-08 07:32:24	mejohn	sorry 
2018-03-08 07:32:30	mejohn	anything we can help with? 
2018-03-08 07:32:45	mejohn	I meant to move the specialists data over to power6a last night, but I'll do it now 
2018-03-08 07:39:28	mejohn	up on power6a/rd_dev 
2018-03-08 07:39:39	mejohn	with the pubmed articles and authors too 
2018-03-08 07:43:09	jesse	Its alright.
2018-03-08 07:43:09		hold up on the pubmed stuff... michael asked me to rebuild that data set cuz I was using the wrong diseases and I didnt store the disease id. 
2018-03-08 07:43:09		I have the comparison script so that its getting output for NC med schools... its not doing any special matching things like ngrams, but its still getting quite a few hits so Im not entirely sure if that will be necessary. I'd like to move into building sql statements for the remaining med schools and comparing on those statements output so that the program can take an estimated 24ish hours to finish. (just nc is 30 mins without ngrams)
2018-03-08 07:43:09		we can do ngrams for that sort of stuff, but I would expect the runtime to increase :( 
2018-03-08 07:43:53	jesse	also I dont think theres anything you guys can do to help. at this point, its mostly just running my scripts on the new pubmed dataset that stores the disease id. 
2018-03-08 07:43:58	mejohn	ah ok, I'll drop those tables 
2018-03-08 07:44:08	jesse	sorry 
2018-03-08 07:44:13	mejohn	great! 
2018-03-08 07:44:30	mejohn	and no worries, I'd rather drop tables because we're getting better data :slightly_smiling_face: 
2018-03-08 07:44:53	mejohn	yeah, I wouldn't worry about ngrams at this point, unless no matches were being made 
2018-03-08 07:45:17	mejohn	any chance you could grab the urls to pubmed articles too? 
2018-03-08 07:45:29	mejohn	that's the big thing I noticed was missing from the tbales 
2018-03-08 07:45:56	mejohn	but we can use the api to grab them later based on the pmid if it's too much trouble! 
2018-03-08 07:46:27	mejohn	I realize we've put a lot on you this week, thanks for getting everything done! 
2018-03-08 07:52:26	jesse	The only trouble about it is my script takes about 2 days to run.... this time has actually been longer because I was missmanaging python memory i think.
2018-03-08 07:52:26		is there a way to build the url from just the pmid? like if it were formatted like 
2018-03-08 07:52:26		http://pubmed.com/article/1360273 (pubmed.com/article/1360273) or something? I can rerun the script if you guys dont mind waiting a day or two.
2018-03-08 07:52:26		And yeah no problem. always glad to get the extra hours. 
2018-03-08 07:52:59	mejohn	nah, we'll figure out how to get it later. Thanks though! 
2018-03-08 07:53:49	jesse	ok. if thats the case then I might be able to get you guys the nc comparisons by tonight. 
2018-03-08 07:54:12	mejohn	awesome!!! 
2018-03-08 07:54:59	mejohn	haha and you are right about the urls being built. so yeah, that'll be easy in django 
2018-03-08 07:55:55	jesse	Also michael told me he wanted the output displaying the NPI, disease Ids, and the pubmed id.
2018-03-08 07:55:55		is this how you want the data as well? 
2018-03-08 07:56:10	mejohn	yep! 
2018-03-08 07:57:14	jesse	if there are multiple disease id's for one NPI, would you like them to show up as separate rows or for the disease ids to be a list of numbers. 
2018-03-08 07:57:37	mejohn	separate rows, please 
2018-03-08 07:57:50	mejohn	makes the sql so much easier 
2018-03-08 07:58:07	jesse	can do. 
2018-03-08 07:58:20	mejohn	:+1: 
2018-03-09 09:37:37	jesse	postgresql is so much better than csv. nobody told me :lying_face: 
2018-03-09 09:39:05	mejohn	aww 
2018-03-09 09:39:14	mejohn	but yeah, sql is pretty amazing 
2018-03-09 09:39:28	mejohn	how's the comparison stuff going? 
2018-03-09 09:42:27	jesse	I had to rerun the pubmed script since I had an evil line of code deleting the disease id...:disappointed_relieved: Its around 50-60% now. Once that happens, I'll just need to run a few scripts that I've already made. 
2018-03-09 09:44:51	jesse	I've been modifying my scripts to use postgresql rather than csv's though!! there are even options to chunk the sql output. 
2018-03-09 09:45:44	mejohn	:cry: glad you caught it! 
2018-03-09 09:46:22	mejohn	and great! Since this project I've gotten so much better at sql, there's way more you can do with it than I thought 
2018-03-09 09:49:53	jesse	yeah. and pythons libraries for it are really good 
2018-03-09 09:50:54	mejohn	I haven't dealt with that as much...the next step for you is straight to django, haha! 
2018-03-09 09:51:54	jesse	:fearful: 
2018-03-09 19:43:14	mejohn	eta for pubmed? 
2018-03-09 19:47:53	jesse	the data is finished for the articles and authors. I'm running the remaining scripts for the other stuff, so filtering out duplicates. Then it'll take some time to get the connections. In total, maybe a few hours to get the connections you and michael asked for. much less time for the non-duplicated articles/authors. 
2018-03-09 19:49:02	mejohn	ok, I'm gonna go ahead and grab the articles and authors. it's on pubmed-jesse, right? 
2018-03-09 19:49:16	mejohn	hopefully we can minimize downtime 
2018-03-09 19:53:50	jesse	yeah, but we should filter the duplicates first I think... it shouldnt take long, maybe a few mins. 
2018-03-09 19:54:03	jesse	if the scripts work as expected. 
2018-03-09 19:54:15	mejohn	ok, please do 
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-14 21:18:02	jesse	Hey meaghan, is rarediseases.oscar down? 
2018-04-14 21:18:25	mejohn	It should n't be 
2018-04-14 21:19:08	jesse	It's on an infinite load on my computer :P 
2018-04-14 21:24:30	mejohn	I'll look at it when I get back to my computer, thanks 
2018-04-14 21:26:22	jesse	Ok. I wouldn't judge you if you just went to bed lol. you always seem to be working on stuff... or online at least lol. 
2018-04-14 21:26:39	mejohn	I'm at a conference right now or I'd fix it 
2018-04-14 21:27:05	jesse	I gotcha. 
2018-04-14 21:32:59	mejohn	Back up. Something's wrong with postgres, remind me to look into it later? 
2018-04-14 21:33:28	jesse	yeah I can do that. I'm kinda curious whats wrong with postgres. 
2018-04-14 21:33:51	mejohn	Thanks! It's not the first time it's gotten stuck 
2018-04-14 21:34:21	jesse	Could've fooled me. It's been working well almost every time I've tried to go on it. 
2018-04-28 14:10:38	jesse	is it weird to recommend scorpions for people with hearing problems? xD 
2018-04-28 14:11:34	jesse	the data I was using is chinese so scorpions came up as an herbal remedy. 
2018-04-28 15:51:38	mejohn	Weird... 
2018-04-28 15:52:02	mejohn	Technically, we aren't recommending any of this stuff. Just informing 
2018-04-28 15:52:09	mejohn	But still... 
2018-04-28 15:53:57	jesse	yeah. thats the only weird one I found. But I was thinking there was some scorpion plant or that there was  an error in the translation, but there isnt. Ive looked it up and they really do eat scorpions. 
2018-04-28 15:55:26	mejohn	It's eating them? I figured it'd be like an extract of the venom. Interesting 
2018-04-28 15:55:48	jesse	I guess I just made the assumption about eating them. Ill check. 
2018-04-28 15:56:14	mejohn	There's a lot of cultures that do eat them, I think 
2018-04-28 15:56:55	jesse	china is definitely one that eats them from a quick google. 
2018-04-28 15:57:33	mejohn	I'd say keep it in, we're just gonna need some serious disclaimers 
2018-04-28 15:57:52	jesse	xD make sure it's dead first. 
2018-04-28 15:58:12	mejohn	Haha that too 
2018-04-28 16:01:30	jesse	omg they eat seahorses too. 
2018-04-28 16:01:42	mejohn	I did know that one! 
2018-04-28 16:01:55	jesse	have you tried one? 
2018-04-28 16:04:00	mejohn	Haha no, it was in a the show 
2018-04-28 16:06:10	jesse	I wonder if I can find those foods here somewhere. I kinda wanna try seahorses and owls. maybe even a snake. 
2018-04-28 16:06:54	mejohn	Some of it you can find at Grand Asia market or BugFest in September! 
2018-04-28 16:07:01	mejohn	Probably not owl though 
2018-04-28 16:07:53	jesse	good to know! thanks 
2018-04-30 19:48:01	jesse	Do you think I should put the herbal remedy stuff in the 'Medications' tile? 
2018-04-30 19:48:20	mejohn	Yeah, probably 
2018-04-30 19:48:55	jesse	Okay, I'll whip something up 
2018-04-30 19:48:59	jesse	:P 
2018-04-30 19:50:17	mejohn	Cool, thanks 
2018-05-01 11:48:25	jesse	Hey Meaghan, I'm struggling with the models.py. It's having problems with my ManyToManyField and how it relates to Diseases. Could you take a look some time? 
2018-05-01 11:48:58	jesse	I have the tables up. it's just not populating because I'm getting errors on that manytomany field 
2018-05-01 11:52:58	mejohn	on your machine? 
2018-05-01 11:53:06	mejohn	pubmed-jesse, I mean 
2018-05-01 11:53:51	jesse	nope. I have it locally. really, I just want you to look at the models.py of the herbal_remedies branch, and see if the logic adds up. 
2018-05-01 11:54:55	mejohn	ah ok, will do 
2018-05-01 11:55:33	jesse	145-171   609  are the line numbers. ForeignKeys and ManyToManyFields are what is confusing me. 
2018-05-01 11:55:54	jesse	Thanks 
2018-05-01 11:56:36	mejohn	ok so I think it's the "through=.." that's confusing you 
2018-05-01 11:56:46	mejohn	that's a table name usually, not a Model I think 
2018-05-01 11:57:17	mejohn	I think you want a ManyToManyField('HerbalRemedyPhenotype') 
2018-05-01 11:57:38	mejohn	and then use @property methods to get the actual HerbalRemedy 
2018-05-01 11:58:09	mejohn	You can look at how the PatientAssistance stuff works for an example 
2018-05-01 11:59:04	jesse	Okay. I'll give that a try. Thanks Meaghan! 
2018-05-01 12:00:16	mejohn	or you can get rid of the manytomany all together and use an @property on the Disease model to get all phenotypes for a disease, then get all herbalremedyphenotypes for those phenotypes, then get the herbalremedy objects from tehre 
2018-05-01 12:00:31	mejohn	it's less database changes, but more django filtering 
2018-05-01 12:17:08	jesse	yeah I'll try it that way so I don't have to keep running the script :P 
2018-05-01 12:32:40	mejohn	Sounds good, lemme know if you get stuck 
2018-05-01 16:13:35	jesse	I've got things populating now. Now I just need to question whether we actually want this data and if we do, how should we show the user. 
2018-05-01 16:14:52	mejohn	Great! And if you put a sample of it on your local dev, we can discuss on Thursday with Dr kowolenko and Rachel for wording and placement 
2018-05-01 16:15:14	jesse	okay. 
2018-05-01 16:15:50	jesse	Theres a lot of really weird things in here... like goose fat and tons of other things I've never heard of... 
2018-05-01 16:16:10	mejohn	Yeah...I'm not a big fan of advertising this stuff either 
2018-05-01 16:16:27	mejohn	But it's important to somebody at the top :/ 
2018-05-01 16:18:20	jesse	yeah. plus I think communities aren't very consistant on what herbal remedies work for what parts of the body. The Lumbee Indians may have an issue with the source being Chinese. 
2018-05-01 16:19:01	mejohn	Also true. Write down any of your questions, and mike'll probably answer them 
2018-05-01 16:19:12	jesse	ok 
2018-05-17 09:54:37	jesse	would you like me to call in again this week? 
2018-05-17 09:54:46	jesse	today i mean? 
2018-05-17 10:30:24	mejohn	Haha I just got that, sorry 
2018-05-17 10:30:40	jesse	thats fine. Michael has my back :) 
2018-05-22 09:03:58		getting channel history...
2018-03-09 19:55:48	jesse	yeah. I'm workin on it now. 
2018-03-09 19:56:02	mejohn	thanks :slightly_smiling_face: 
2018-03-09 20:09:14	jesse	I actually forgot to include the orpha ids into the filterDuplicates program. If you're in emergency mode, you can take the unfiltered stuff, but it should only be a few extra lines  of code. 
2018-03-09 20:10:03	mejohn	Mike's out til the morning, so I've got til then. Let's do it right 
2018-03-09 20:16:03	jesse	ok 
2018-03-09 20:48:56	jesse	Hey meaghan, something I just thought about, since we are storing the orpha id's with the articles, it doesn't really make much sense to filter out the duplicates, since the only case there would be a duplicate would be if the same article came from two different disease searches. before I had to store the orpha_id's it made sense to remove duplicates because I was just storing the name of the rare disease... so I could turn that into  a list.
2018-03-09 20:48:56		If you would rather, I can do something similar by having a list of the orpha_ids but based on your previous message of how users would query the information, I think it would be easier not to. Do you agree? 
2018-03-09 20:51:30	mejohn	I agree 
2018-03-09 20:51:48	jesse	Also, I'm not quite sure what Dr. Kowolenko was mad about. Is it related to the things I've been doing? 
2018-03-09 20:52:25	mejohn	no, not at all. Sorry you only got half the story there, most of it was over email. 
2018-03-09 20:52:49	mejohn	I guess he hasn't looked at teh search results in a while, and doesn't like that they aren't specific enough. 
2018-03-09 20:53:49	mejohn	So the site's down "for maintenance" because there's a talk tomorrow that was gonna mention us and we're giving bad results 
2018-03-09 20:55:01	jesse	in that case, the pubmed_articles and pubmed_authors are up for grabs on pubmed-jesse.  I may need to make filtered versions for my own sake for the med school comparisons that I'll be doing since the runtime of that is quite long. 
2018-03-09 20:55:13	mejohn	thanks! 
2018-03-09 20:55:31	mejohn	Michael and I are working on nih grants and clinical trials, to see if we can get better results there too. 
2018-03-09 20:55:54	mejohn	just grab the sql tables, right? 
2018-03-09 20:58:02	jesse	yeah 
2018-03-09 20:58:15	mejohn	:+1: 
2018-03-09 20:58:37	jesse	its under the database name: raredx 
2018-03-09 20:58:48	mejohn	cool, found it! 
2018-03-09 20:59:01	jesse	and you dont need rarediseases_disease 
2018-03-09 20:59:11	mejohn	yep 
2018-03-12 16:09:55	mejohn	Hey Jesse, what's the status on connections? 
2018-03-12 16:21:07	jesse	not great. running the program on the NC data takes way too long. I halted the program after 8 hours.
2018-03-12 16:21:07		It took 30 mins before because the duplicates were filtered out. I'm planning on meeting with Janne and Arun about this tonight at 6pm to see if we can work out a more efficient solution. 
2018-03-12 16:40:55	mejohn	Hmm...ok, let me know how the meeting goes. Thanks for the update! 
2018-03-12 19:12:26	jesse	Hey Meaghan, could you tell me how to give Sagar and Arun access to the VM you gave me? 
2018-03-12 19:12:51	mejohn	You can't do it, just a second 
2018-03-12 19:13:12	mejohn	I mean you could, but it'd be really annoying when I've got one command 
2018-03-12 19:13:20	jesse	thats probably a good thing. I break almost everything I don't fully understand. 
2018-03-12 19:14:32	jesse	Janne too please!! 
2018-03-12 19:14:38	mejohn	Done 
2018-03-12 19:14:53	jesse	Thanks!!!! 
2018-03-12 19:15:16	mejohn	Np! 
2018-03-13 00:17:58	jesse	so we found a much more efficient way to handle the connections, and coded it up, but its full of bugs and the code is quite difficult, at least for me, to understand. Using the old code, I could probably fetch the NC data in about 7 hours... but if we can figure out the bugs, Im thinking the entire dataset's connections could be gathered in less than 10 hours.... thats a very rough estimate though..
2018-03-13 00:17:58		sorry about this taking so long. 
2018-03-13 10:25:39	mejohn	it's ok, I'm glad you guys are working through everything! Dr. Kowolenko is getting antsy to have something, so if it's not done Thursday-ish, Michael and I are probably going to have to set up a bad solution and upgrade it with yours when yours is done 
2018-03-13 10:31:18	jesse	i ran the old program this morning, tonight, I'm thinking we should have some of the NC connections. 
2018-03-13 10:31:18		if you would like, after my team meeting for another class, I can come by the lab and maybe you guys could help speed things along and I can explain more  into how we got where we are. 
2018-03-13 10:36:25	mejohn	sure, we can help out! 
2018-03-13 10:38:10	jesse	awesome! ill be over there probably around 1pm again depending on my group meeting. could be sooner or later. 
2018-03-13 10:38:22	mejohn	great, see you then! 
2018-03-14 09:53:32	mejohn	new_specialists.sql is in your home directory on pubmed-jesse, with only 200k specialists 
2018-03-14 09:53:54	mejohn	it doesn't have the links to specialties or locations, but I don't think you match on those anyway 
2018-03-14 09:56:52	jesse	true. I'll take a look now. 
2018-03-16 09:48:42	jesse	hey meaghan, I checked on the script this morning, and it seems the process that is running the script is sleeping... and it's at 79%. Its retaining its allocated memory but using up no CPU. Is there a reason this is happening? is the computer taking a break? 
2018-03-16 09:49:38	jesse	or could another vm on the same server be using up it's cpu usage? 
2018-03-16 10:23:00	mejohn	I dunno what's up, but there's only two machines on the hypervisor with 6 unassigned cpu threads left and I don't think Michael's dev machine is doing anything hardcore 
2018-03-16 10:25:38	jesse	hypervisor sounds cool and scifi lol. 
2018-03-16 10:26:02	mejohn	haha 
2018-03-16 10:26:38	jesse	do you think the process will start back up after waiting a bit? 
2018-03-16 10:27:34	jesse	I could also try to make the program consume less memory, but it may make the runtime longer. 
2018-03-16 10:28:17	mejohn	it looks like it's doing stuff now? or at least it's using cpu and memory 
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-14 21:18:02	jesse	Hey meaghan, is rarediseases.oscar down? 
2018-04-14 21:18:25	mejohn	It should n't be 
2018-04-14 21:19:08	jesse	It's on an infinite load on my computer :P 
2018-04-14 21:24:30	mejohn	I'll look at it when I get back to my computer, thanks 
2018-04-14 21:26:22	jesse	Ok. I wouldn't judge you if you just went to bed lol. you always seem to be working on stuff... or online at least lol. 
2018-04-14 21:26:39	mejohn	I'm at a conference right now or I'd fix it 
2018-04-14 21:27:05	jesse	I gotcha. 
2018-04-14 21:32:59	mejohn	Back up. Something's wrong with postgres, remind me to look into it later? 
2018-04-14 21:33:28	jesse	yeah I can do that. I'm kinda curious whats wrong with postgres. 
2018-04-14 21:33:51	mejohn	Thanks! It's not the first time it's gotten stuck 
2018-04-14 21:34:21	jesse	Could've fooled me. It's been working well almost every time I've tried to go on it. 
2018-04-28 14:10:38	jesse	is it weird to recommend scorpions for people with hearing problems? xD 
2018-04-28 14:11:34	jesse	the data I was using is chinese so scorpions came up as an herbal remedy. 
2018-04-28 15:51:38	mejohn	Weird... 
2018-04-28 15:52:02	mejohn	Technically, we aren't recommending any of this stuff. Just informing 
2018-04-28 15:52:09	mejohn	But still... 
2018-04-28 15:53:57	jesse	yeah. thats the only weird one I found. But I was thinking there was some scorpion plant or that there was  an error in the translation, but there isnt. Ive looked it up and they really do eat scorpions. 
2018-04-28 15:55:26	mejohn	It's eating them? I figured it'd be like an extract of the venom. Interesting 
2018-04-28 15:55:48	jesse	I guess I just made the assumption about eating them. Ill check. 
2018-04-28 15:56:14	mejohn	There's a lot of cultures that do eat them, I think 
2018-04-28 15:56:55	jesse	china is definitely one that eats them from a quick google. 
2018-04-28 15:57:33	mejohn	I'd say keep it in, we're just gonna need some serious disclaimers 
2018-04-28 15:57:52	jesse	xD make sure it's dead first. 
2018-04-28 15:58:12	mejohn	Haha that too 
2018-04-28 16:01:30	jesse	omg they eat seahorses too. 
2018-04-28 16:01:42	mejohn	I did know that one! 
2018-04-28 16:01:55	jesse	have you tried one? 
2018-04-28 16:04:00	mejohn	Haha no, it was in a the show 
2018-04-28 16:06:10	jesse	I wonder if I can find those foods here somewhere. I kinda wanna try seahorses and owls. maybe even a snake. 
2018-04-28 16:06:54	mejohn	Some of it you can find at Grand Asia market or BugFest in September! 
2018-04-28 16:07:01	mejohn	Probably not owl though 
2018-04-28 16:07:53	jesse	good to know! thanks 
2018-04-30 19:48:01	jesse	Do you think I should put the herbal remedy stuff in the 'Medications' tile? 
2018-04-30 19:48:20	mejohn	Yeah, probably 
2018-04-30 19:48:55	jesse	Okay, I'll whip something up 
2018-04-30 19:48:59	jesse	:P 
2018-04-30 19:50:17	mejohn	Cool, thanks 
2018-05-01 11:48:25	jesse	Hey Meaghan, I'm struggling with the models.py. It's having problems with my ManyToManyField and how it relates to Diseases. Could you take a look some time? 
2018-05-01 11:48:58	jesse	I have the tables up. it's just not populating because I'm getting errors on that manytomany field 
2018-05-01 11:52:58	mejohn	on your machine? 
2018-05-01 11:53:06	mejohn	pubmed-jesse, I mean 
2018-05-01 11:53:51	jesse	nope. I have it locally. really, I just want you to look at the models.py of the herbal_remedies branch, and see if the logic adds up. 
2018-05-01 11:54:55	mejohn	ah ok, will do 
2018-05-01 11:55:33	jesse	145-171   609  are the line numbers. ForeignKeys and ManyToManyFields are what is confusing me. 
2018-05-01 11:55:54	jesse	Thanks 
2018-05-01 11:56:36	mejohn	ok so I think it's the "through=.." that's confusing you 
2018-05-01 11:56:46	mejohn	that's a table name usually, not a Model I think 
2018-05-01 11:57:17	mejohn	I think you want a ManyToManyField('HerbalRemedyPhenotype') 
2018-05-01 11:57:38	mejohn	and then use @property methods to get the actual HerbalRemedy 
2018-05-01 11:58:09	mejohn	You can look at how the PatientAssistance stuff works for an example 
2018-05-01 11:59:04	jesse	Okay. I'll give that a try. Thanks Meaghan! 
2018-05-01 12:00:16	mejohn	or you can get rid of the manytomany all together and use an @property on the Disease model to get all phenotypes for a disease, then get all herbalremedyphenotypes for those phenotypes, then get the herbalremedy objects from tehre 
2018-05-01 12:00:31	mejohn	it's less database changes, but more django filtering 
2018-05-01 12:17:08	jesse	yeah I'll try it that way so I don't have to keep running the script :P 
2018-05-01 12:32:40	mejohn	Sounds good, lemme know if you get stuck 
2018-05-01 13:05:13	jesse	ok. Im with my sister now so Ill do some more tonight. It should be very straight forward from here on out though. 
2018-05-01 13:05:43	mejohn	Ok 
2018-05-01 16:13:35	jesse	I've got things populating now. Now I just need to question whether we actually want this data and if we do, how should we show the user. 
2018-05-01 16:14:52	mejohn	Great! And if you put a sample of it on your local dev, we can discuss on Thursday with Dr kowolenko and Rachel for wording and placement 
2018-05-01 16:15:14	jesse	okay. 
2018-05-01 16:15:50	jesse	Theres a lot of really weird things in here... like goose fat and tons of other things I've never heard of... 
2018-05-01 16:16:10	mejohn	Yeah...I'm not a big fan of advertising this stuff either 
2018-05-01 16:16:27	mejohn	But it's important to somebody at the top :/ 
2018-05-01 16:18:20	jesse	yeah. plus I think communities aren't very consistant on what herbal remedies work for what parts of the body. The Lumbee Indians may have an issue with the source being Chinese. 
2018-05-01 16:19:01	mejohn	Also true. Write down any of your questions, and mike'll probably answer them 
2018-05-01 16:19:12	jesse	ok 
2018-05-09 15:01:00	mejohn	Do you have time to call in sometime tomorrow for a status report? 
2018-05-09 15:01:40	mejohn	we're also having a meeting at the normal time to kind of figure out where we should be developing next, if you have any opinions 
2018-05-09 15:14:52	jesse	I should be able to call in tomorrow. I'll think about where we should be developing next and get back to you on that. 
2018-05-09 15:15:27	mejohn	great, thanks! 
2018-05-10 10:01:06	jesse	I just woke up. did you want me to call in through phone or try to google hangouts? 
2018-05-10 10:01:41	jesse	sorry if this interrupts you guys... i can also just text my contributions here. 
2018-05-10 10:05:02	jesse	All I did this week was try to fix a bug with the pubmed data not storing the titles correctly. I later found out that the problem is not fixable on my end. Its an issue with biopython. Then I switched to trying to download all of pubmed, and for that, I wrote a bash/ftp script to grab all the data and I wrote a models.py that I haven't verified is correct :P 
2018-05-10 10:06:03	mejohn	Hey! You can call in to tel:919-515-0157 (919-515-0157) :) 
2018-05-17 09:54:37	jesse	would you like me to call in again this week? 
2018-05-17 09:54:46	jesse	today i mean? 
2018-05-17 10:30:24	mejohn	Haha I just got that, sorry 
2018-05-17 10:30:40	jesse	thats fine. Michael has my back :) 
2018-05-17 10:32:37	mejohn	Good redundancy :) 
2018-05-17 10:37:05	jesse	btw is that your phone number? 
2018-05-17 10:40:22	mejohn	Oh no, that's the conference phone 
2018-05-17 10:41:09	jesse	ahh good. I wouldve felt bad if I was using up your phone for the last 2 meetings :P 
2018-05-17 10:41:25	mejohn	Haha no worries there :P 
2018-05-22 09:07:05	jesse	Hey Meaghan, I just sent an email to you with an ssh key from my desktop computer. would you be able to add it to the proxy? 
2018-05-22 09:07:34	jesse	or can I add it? I imagine I don't have the privileges. :P 
2018-05-22 09:08:44	mejohn	Congrats on the desktop! 
2018-05-22 09:08:50	mejohn	I added your key 
2018-05-22 09:09:39	mejohn	You could have, it's just editing your .ssh/authorized_keys file, but it's better to let our scripts handle it so it doesn't get wiped when we sync the database with the system 
2018-05-22 09:10:37	jesse	Thanks!! 
2018-05-22 10:17:25	jesse	alright. I'll see where the string comparison gets me first and get back to you guys on the parent/child stuff. 
2018-05-22 10:17:45	mejohn	thanks :slightly_smiling_face: 
2018-05-24 10:17:53		getting channel history...
2018-03-16 10:32:30	mejohn	weird... ps faux reports mem and cpu used, but top doesn't 
2018-03-16 10:33:09	jesse	yeah i was just about to send you a picture of top 
2018-03-16 10:37:28	jesse	For a joke, I could modify my program to run on my raspberry pi? It may not finish for a few years though haha 
2018-03-16 10:37:41	jesse	that ? shouldn't be there 
2018-03-16 10:37:58	mejohn	if you really want to... 
2018-03-16 10:38:16	mejohn	there's 5992701 entries with authors in the db now 
2018-03-16 10:38:41	mejohn	so we're missing about 2 million? 
2018-03-16 10:39:19	jesse	sounds about right. my program goes through 1000 diseases at a time and once it hits 1000, it flushes it out to the database. 
2018-03-16 10:41:56	jesse	i could probably restart the program and modify it to start from wherever it left off... but I would have to know where that point is... want me to do that? 
2018-03-16 10:43:06	mejohn	yeah, that's probably the best option. sorry 
2018-03-16 10:45:40	jesse	sure thing. 
2018-03-16 10:46:29	mejohn	I put your connections in rd_dev and rd_stag though! pubmed_specialists 
2018-03-16 10:49:22	jesse	yeayy! 
2018-03-16 10:56:23	jesse	its running now. Doing this rolled the percentage back to 69% 
2018-03-16 10:56:45	mejohn	I'll take losing 7% if it actually finishes this time! 
2018-03-16 10:58:35	jesse	lol yup. I'll try to keep an eye on it every hour or so to be sure it doesn't do something like that again. 
2018-03-16 10:58:57	mejohn	thanks :slightly_smiling_face: 
2018-03-16 19:35:55	jesse	Hey Meaghan, the script is complete 
2018-03-16 19:36:46	mejohn	awesome!! I'll upgrade staging with it. Thanks! 
2018-03-16 19:39:12	jesse	don't update the connections though. I haven't ran that yet. 
2018-03-16 19:39:33	mejohn	good catch 
2018-03-16 19:39:46	jesse	I would like to see if my new medschool comparison method works better before I run that. 
2018-03-16 19:40:48	mejohn	:+1: 
2018-03-16 19:47:55	jesse	I also didn't create the indexes 
2018-03-16 19:48:06	mejohn	no worries, I can do that 
2018-03-17 15:49:16	jesse	Hey meaghan, I generated the connections with the new medschool comparison method. I got 32,000 results. 
2018-03-17 15:49:48	mejohn	that's twice as many, right? sweet 
2018-03-17 15:50:28	jesse	is it really?! 
2018-03-17 15:50:40	jesse	i forgot how many was there before. 
2018-03-17 15:51:16	mejohn	yeah, the old count was 18k 
2018-03-17 15:51:17	jesse	I hope its accurate. the sample ive checked seemed to be. 
2018-03-17 15:51:28	mejohn	awesome job :smile: 
2018-03-17 15:51:45	jesse	thanks 
2018-03-19 16:02:34	mejohn	Right now it's just two shades of blue with some greys thrown in 
2018-03-19 16:03:12	jesse	gotcha. sounds about right. 
2018-03-20 11:10:04	jesse	Hey Meaghan, do you know where I can find the symptoms for each disease in the db? The kind of stuff that would appear on the 'About' page. 
2018-03-20 11:10:57	mejohn	rarediseases_diseasephenotypes probably 
2018-03-20 11:15:47	jesse	I think there is a typo in raredisease_phenotype that threw me for a loop. I think the column 'synonyms' is supposed to be 'symptoms' 
2018-03-20 11:20:09	mejohn	no, I think it's "other names" on the about page 
2018-03-20 11:23:09	jesse	Oh I think I understand how these tables work now. 'Phenotype' is a big word for me xD. Sorry 
2018-03-20 11:23:26	mejohn	haha phenotype just means symptom for us 
2018-03-20 11:23:37	mejohn	took us a while to get used to it too 
2018-03-21 08:30:57	jesse	Hey Meaghan, I'm trying to get used to the django stuff. Can you explain what @property tags do? 
2018-03-21 08:34:24	mejohn	it's kind of a way of defining a field without defining a field. So more of a calculated field 
2018-03-21 08:35:26	mejohn	or in java terms, a getter/setter 
2018-03-21 08:37:07	jesse	Gotcha. and this is different from a regular method because it's calculated once the objects are initialized? 
2018-03-21 08:38:36	mejohn	No, it's not calculated until it's called, like a normal method. I think using @property gives it access to other helper methods 
2018-03-21 08:39:32	mejohn	https://docs.djangoproject.com/en/2.0/ref/utils/#django.utils.functional.cached_property 
2018-03-21 08:39:47	mejohn	here's cached property, but I'm having trouble finding just the property documentation 
2018-03-21 08:40:57	jesse	okay. I think I understand. 
2018-03-21 08:41:03	jesse	thank you 
2018-03-21 09:33:14	jesse	In the phenotypes table, does id or hpo_id refer to the phenotype's id that is connected to the disease phenotype table under phenotype_id? 
2018-03-21 09:33:32	jesse	also sorry im asking a lot of questions :( 
2018-03-21 09:35:49	jesse	Im pretty certain its hpo_id 
2018-03-21 09:36:21	mejohn	Sorry, I'm not sure. Michael knows! 
2018-03-21 09:36:34	mejohn	No worries about the questions, I was just driving to unc 
2018-03-28 10:20:16	jesse	you didn't by any chance kill a program running on pubmed-jesse did you? my program was killed at 100% so I'm scratching my head haha. 
2018-03-28 10:20:52	mejohn	nope, wasn't me 
2018-03-28 10:21:20	mejohn	did it run out of ram? you have 8gb and that's how big the pubmed stuff is right? 
2018-03-28 10:22:15	jesse	there is no way I ran out of ram lol. I've been chunking the data. 
2018-03-28 10:22:39	jesse	it should use 2gigs max. 
2018-03-28 10:22:55	mejohn	no clue then :confused: 
2018-03-28 10:24:59	jesse	and disk usage seems to be fine. this is weird haha. I could re-run the last batch, but then there may be duplicates. 
2018-03-28 10:26:16	mejohn	don't you have a script that removes duplicates? 
2018-03-28 10:29:34	jesse	it was used for a different purpose originally, but that is a good idea. I can just modify that script. 
2018-03-28 10:31:24	mejohn	:+1: 
2018-03-28 10:32:26	jesse	Thank you meaghan! 
2018-03-28 10:32:46	mejohn	no problem! 
2018-04-14 21:18:02	jesse	Hey meaghan, is rarediseases.oscar down? 
2018-04-14 21:18:25	mejohn	It should n't be 
2018-04-14 21:19:08	jesse	It's on an infinite load on my computer :P 
2018-04-14 21:24:30	mejohn	I'll look at it when I get back to my computer, thanks 
2018-04-14 21:26:22	jesse	Ok. I wouldn't judge you if you just went to bed lol. you always seem to be working on stuff... or online at least lol. 
2018-04-14 21:26:39	mejohn	I'm at a conference right now or I'd fix it 
2018-04-14 21:27:05	jesse	I gotcha. 
2018-04-14 21:32:59	mejohn	Back up. Something's wrong with postgres, remind me to look into it later? 
2018-04-14 21:33:28	jesse	yeah I can do that. I'm kinda curious whats wrong with postgres. 
2018-04-14 21:33:51	mejohn	Thanks! It's not the first time it's gotten stuck 
2018-04-14 21:34:21	jesse	Could've fooled me. It's been working well almost every time I've tried to go on it. 
2018-04-28 14:10:38	jesse	is it weird to recommend scorpions for people with hearing problems? xD 
2018-04-28 14:11:34	jesse	the data I was using is chinese so scorpions came up as an herbal remedy. 
2018-04-28 15:51:38	mejohn	Weird... 
2018-04-28 15:52:02	mejohn	Technically, we aren't recommending any of this stuff. Just informing 
2018-04-28 15:52:09	mejohn	But still... 
2018-04-28 15:53:57	jesse	yeah. thats the only weird one I found. But I was thinking there was some scorpion plant or that there was  an error in the translation, but there isnt. Ive looked it up and they really do eat scorpions. 
2018-04-28 15:55:26	mejohn	It's eating them? I figured it'd be like an extract of the venom. Interesting 
2018-04-28 15:55:48	jesse	I guess I just made the assumption about eating them. Ill check. 
2018-04-28 15:56:14	mejohn	There's a lot of cultures that do eat them, I think 
2018-04-28 15:56:55	jesse	china is definitely one that eats them from a quick google. 
2018-04-28 15:57:33	mejohn	I'd say keep it in, we're just gonna need some serious disclaimers 
2018-04-28 15:57:52	jesse	xD make sure it's dead first. 
2018-04-28 15:58:12	mejohn	Haha that too 
2018-04-28 16:01:30	jesse	omg they eat seahorses too. 
2018-04-28 16:01:42	mejohn	I did know that one! 
2018-04-28 16:01:55	jesse	have you tried one? 
2018-04-28 16:04:00	mejohn	Haha no, it was in a the show 
2018-04-28 16:06:10	jesse	I wonder if I can find those foods here somewhere. I kinda wanna try seahorses and owls. maybe even a snake. 
2018-04-28 16:06:54	mejohn	Some of it you can find at Grand Asia market or BugFest in September! 
2018-04-28 16:07:01	mejohn	Probably not owl though 
2018-04-28 16:07:53	jesse	good to know! thanks 
2018-04-30 19:48:01	jesse	Do you think I should put the herbal remedy stuff in the 'Medications' tile? 
2018-04-30 19:48:20	mejohn	Yeah, probably 
2018-04-30 19:48:55	jesse	Okay, I'll whip something up 
2018-04-30 19:48:59	jesse	:P 
2018-04-30 19:50:17	mejohn	Cool, thanks 
2018-05-01 11:48:25	jesse	Hey Meaghan, I'm struggling with the models.py. It's having problems with my ManyToManyField and how it relates to Diseases. Could you take a look some time? 
2018-05-01 11:48:58	jesse	I have the tables up. it's just not populating because I'm getting errors on that manytomany field 
2018-05-01 11:52:58	mejohn	on your machine? 
2018-05-01 11:53:06	mejohn	pubmed-jesse, I mean 
2018-05-01 11:53:51	jesse	nope. I have it locally. really, I just want you to look at the models.py of the herbal_remedies branch, and see if the logic adds up. 
2018-05-01 11:54:55	mejohn	ah ok, will do 
2018-05-01 11:55:33	jesse	145-171   609  are the line numbers. ForeignKeys and ManyToManyFields are what is confusing me. 
2018-05-01 11:55:54	jesse	Thanks 
2018-05-01 11:56:36	mejohn	ok so I think it's the "through=.." that's confusing you 
2018-05-01 11:56:46	mejohn	that's a table name usually, not a Model I think 
2018-05-01 11:57:17	mejohn	I think you want a ManyToManyField('HerbalRemedyPhenotype') 
2018-05-01 11:57:38	mejohn	and then use @property methods to get the actual HerbalRemedy 
2018-05-01 11:58:09	mejohn	You can look at how the PatientAssistance stuff works for an example 
2018-05-01 11:59:04	jesse	Okay. I'll give that a try. Thanks Meaghan! 
2018-05-01 12:00:16	mejohn	or you can get rid of the manytomany all together and use an @property on the Disease model to get all phenotypes for a disease, then get all herbalremedyphenotypes for those phenotypes, then get the herbalremedy objects from tehre 
2018-05-01 12:00:31	mejohn	it's less database changes, but more django filtering 
2018-05-01 12:17:08	jesse	yeah I'll try it that way so I don't have to keep running the script :P 
2018-05-01 12:32:40	mejohn	Sounds good, lemme know if you get stuck 
2018-05-01 13:05:13	jesse	ok. Im with my sister now so Ill do some more tonight. It should be very straight forward from here on out though. 
2018-05-01 13:05:43	mejohn	Ok 
2018-05-01 16:13:35	jesse	I've got things populating now. Now I just need to question whether we actually want this data and if we do, how should we show the user. 
2018-05-01 16:14:52	mejohn	Great! And if you put a sample of it on your local dev, we can discuss on Thursday with Dr kowolenko and Rachel for wording and placement 
2018-05-01 16:15:14	jesse	okay. 
2018-05-01 16:15:50	jesse	Theres a lot of really weird things in here... like goose fat and tons of other things I've never heard of... 
2018-05-01 16:16:10	mejohn	Yeah...I'm not a big fan of advertising this stuff either 
2018-05-01 16:16:27	mejohn	But it's important to somebody at the top :/ 
2018-05-01 16:18:20	jesse	yeah. plus I think communities aren't very consistant on what herbal remedies work for what parts of the body. The Lumbee Indians may have an issue with the source being Chinese. 
2018-05-01 16:19:01	mejohn	Also true. Write down any of your questions, and mike'll probably answer them 
2018-05-01 16:19:12	jesse	ok 
2018-05-09 15:01:00	mejohn	Do you have time to call in sometime tomorrow for a status report? 
2018-05-09 15:01:40	mejohn	we're also having a meeting at the normal time to kind of figure out where we should be developing next, if you have any opinions 
2018-05-09 15:14:52	jesse	I should be able to call in tomorrow. I'll think about where we should be developing next and get back to you on that. 
2018-05-09 15:15:27	mejohn	great, thanks! 
2018-05-10 10:01:06	jesse	I just woke up. did you want me to call in through phone or try to google hangouts? 
2018-05-10 10:01:41	jesse	sorry if this interrupts you guys... i can also just text my contributions here. 
2018-05-10 10:05:02	jesse	All I did this week was try to fix a bug with the pubmed data not storing the titles correctly. I later found out that the problem is not fixable on my end. Its an issue with biopython. Then I switched to trying to download all of pubmed, and for that, I wrote a bash/ftp script to grab all the data and I wrote a models.py that I haven't verified is correct :P 
2018-05-10 10:06:03	mejohn	Hey! You can call in to tel:919-515-0157 (919-515-0157) :) 
2018-05-17 09:54:37	jesse	would you like me to call in again this week? 
2018-05-17 09:54:46	jesse	today i mean? 
2018-05-17 10:30:24	mejohn	Haha I just got that, sorry 
2018-05-17 10:30:40	jesse	thats fine. Michael has my back :) 
2018-05-17 10:32:37	mejohn	Good redundancy :) 
2018-05-17 10:37:05	jesse	btw is that your phone number? 
2018-05-17 10:40:22	mejohn	Oh no, that's the conference phone 
2018-05-17 10:41:09	jesse	ahh good. I wouldve felt bad if I was using up your phone for the last 2 meetings :P 
2018-05-17 10:41:25	mejohn	Haha no worries there :P 
2018-05-22 09:07:05	jesse	Hey Meaghan, I just sent an email to you with an ssh key from my desktop computer. would you be able to add it to the proxy? 
2018-05-22 09:07:34	jesse	or can I add it? I imagine I don't have the privileges. :P 
2018-05-22 09:08:44	mejohn	Congrats on the desktop! 
2018-05-22 09:08:50	mejohn	I added your key 
2018-05-22 09:09:39	mejohn	You could have, it's just editing your .ssh/authorized_keys file, but it's better to let our scripts handle it so it doesn't get wiped when we sync the database with the system 
2018-05-22 09:10:37	jesse	Thanks!! 
2018-05-22 09:11:03	mejohn	:) 
2018-05-22 10:05:14	jesse	Hey Meaghan, I have the disease names to the rareconnect communities. Is there a specific way you want me to do the string comparison? for example: it has to be a direct match vs. all of the words in the rareconnect community must be in the name of the disease.  
2018-05-22 10:05:50	mejohn	It needs to be the same disease 
2018-05-22 10:06:05	mejohn	I'm not sure what the best way to do that is, unfortunately 
2018-05-22 10:06:34	mejohn	Probably option 2, with a manual check for false positives. 
2018-05-22 10:07:57	mejohn	And it'd be awesome if if connected through to variants (i.e. batten's group connects to batten, cln2, cln10...) 
2018-05-22 10:10:54	jesse	didn't Michael have a way to go through parent and child diseases? if so, then i should be able to do that 
2018-05-22 10:12:30	mejohn	I think so! 
2018-05-22 10:17:25	jesse	alright. I'll see where the string comparison gets me first and get back to you guys on the parent/child stuff. 
2018-05-22 10:17:45	mejohn	thanks :slightly_smiling_face: 
2018-05-22 11:19:51	jesse	what database are you guys using? 
2018-05-22 11:20:03	mejohn	where? 
2018-05-22 11:21:04	jesse	in the models of rarediseases, it says that there is a table named 'disease'. Anywhere that has this 'disease' table :) 
2018-05-22 11:21:32	mejohn	michael's fault :stuck_out_tongue: 
2018-05-22 11:21:37	mejohn	he renamed all the tables 
2018-05-22 11:21:55	jesse	xD  
2018-05-22 11:22:25	jesse	alright, I'll just rename rarediseases_disease to disease locally. 
2018-05-22 11:22:44	mejohn	yep yep. there's probably a few tables you'll have to do 
2018-05-22 11:24:00	jesse	are you guys still using rd_stag? 
2018-05-22 11:24:19	mejohn	yeah, kind of. on power6a? 
2018-05-22 11:24:36	mejohn	we're off power6a, there's not a community database anymore :confused: 
2018-05-22 11:45:05	jesse	yeah I meant on power6a.  
2018-05-22 11:45:22	mejohn	that's pretty out of date 
2018-05-22 11:45:50	jesse	xD  
2018-05-22 14:32:25	jesse	@jesse uploaded a file: https://ncstateuniversityitng.slack.com/files/U8QQFV2GG/FAV5M4FU6/rareconnect_log.txt (rareconnect log) 
2018-05-22 14:34:13	jesse	thats a csv of the rare connect communities with the names of the diseases it matched with. It seems like a lot of the rareconnect names are a lot less specific than the disease names we have. I'm also searching through the synonyms for the comparison as well. 
2018-05-22 14:34:34	mejohn	Great, thanks! It looks good so far 
2018-05-22 14:55:57	jesse	ill see how it looks with the parent/child diseases next. hopefully that'll give us more results. 
2018-05-22 14:56:16	mejohn	Awesome 
2018-05-23 09:17:25	mejohn	is there any way you could include the orpha_id instead of or alongside the website_disease? It's way easier for us to link it up with numbers 
2018-05-23 09:19:26	jesse	yeah that's easy. but im also not gonna be doing CSVs. that's just for testing. I'm probably gonna have an @property function in Disease that checks the file of rare connect links. 
2018-05-23 09:19:50	mejohn	nice! you're really getting the hang of django 
2018-05-23 09:21:23	jesse	sorta xD.  it's a lot nicer than pandas haha. 
2018-05-23 09:21:47	mejohn	ohhhh yeah 
2018-05-23 14:12:25	jesse	Hey Meaghan, I updated the rareconnect links on the support groups page to link to the specific community rather than just the general webpage. If it doesn't have a specific community to link to, it checks the parents/children, and if they don't have anything, I just returned the default rareconnect link. I'm thinking we should update it to maybe show up under disease-specific support groups, because it looks like nothing changed until you click the links lol. If you wanna take a look sometime, I'll put up the code on a separate branch named issue86-rareconnect  
2018-05-23 14:27:59	mejohn	Nice! I'll try to pull it in today, and if it looks good it'll be on production tonight :) 
2018-05-23 14:30:58	jesse	Awesome! Let me know if you want anything changed. I also wasn't sure how well the parent/child part worked or if that will show misleading info. 
2018-05-23 14:32:25	mejohn	Alright, I'll make sure to check out some of those then 
2018-05-23 14:42:42	mejohn	Where did you put the data for it, if there are any new tables? 
2018-05-23 14:44:25	jesse	There isn't any data. It just checks the links from scripts/list_of_rareconnect_links.txt and sees if the disease part of the url  matches with the diseases 
2018-05-23 14:44:50	mejohn	Ah, ok. Is that fairly fast? 
2018-05-23 14:45:06	jesse	Yep. I don't notice anything being slower. 
2018-05-23 14:45:11	mejohn	Great 
